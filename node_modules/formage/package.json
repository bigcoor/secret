{
  "name": "formage",
  "description": "Admin GUI addon for mongoose, jugglingdb, or just as a form generator",
  "version": "2.5.2",
  "main": "index.js",
  "author": {
    "name": "Etai Peretz",
    "email": "etai@empeeric.com",
    "url": "http://www.empeeric.com/"
  },
  "contributors": [
    {
      "name": "Ishai Jaffe",
      "email": "ishai@bablic.com",
      "url": "http://www.bablic.com/"
    },
    {
      "name": "Refael Ackermann",
      "email": "refael@empeeric.com",
      "url": "http://www.empeeric.com/"
    },
    {
      "email": "etaypere@gmail.com",
      "url": "http://www.empeeric.com/"
    },
    {
      "name": "Alon Valadji",
      "email": "alon@empeeric.com",
      "url": "http://www.empeeric.com/"
    }
  ],
  "dependencies": {
    "lodash": "",
    "lodash-contrib": "",
    "async": "",
    "cloudinary": "",
    "nodestrum": "",
    "node-ckeditor": "",
    "formage-mongoose-types": "",
    "mpromise": ">= 0.5.0",
    "connect-multiparty": ""
  },
  "devDependencies": {
    "jade": "0.35.0",
    "express": "",
    "mongoose": "",
    "jugglingdb": "",
    "tingodb": "git+https://github.com/Empeeric/tingodb.git",
    "tungus": "",
    "chai": "",
    "mocha": ""
  },
  "optionalDevDependencies": {
    "msnodesql": "",
    "jugglingdb-mssql": ""
  },
  "keywords": [
    "admin",
    "forms",
    "cross-database",
    "mongoose",
    "mongoose-gui",
    "juggling",
    "jugglingdb",
    "backoffice",
    "cms"
  ],
  "repository": {
    "type": "git",
    "url": "https://github.com/Empeeric/formage.git"
  },
  "scripts": {
    "start": "node example/classic/app",
    "test": "node ./node_modules/mocha/bin/_mocha",
    "cover": "istanbul cover ./node_modules/mocha/bin/_mocha -x generated/**",
    "postpublish": "git push origin master --tags"
  },
  "bugs": {
    "url": "https://github.com/Empeeric/formage/issues"
  },
  "directories": {
    "example": "./example"
  },
  "engines": {
    "node": "0.10.x"
  },
  "licenses": [
    {
      "type": "MIT",
      "url": "https://raw.github.com/Empeeric/formage/master/LICENSE"
    }
  ],
  "readme": "<img src=\"http://i.imgur.com/9vVHCPY.png\" align=\"top\" />  Formage\n\n[![Build Status](https://travis-ci.org/Empeeric/formage.png?branch=master \"Build Status\")](https://travis-ci.org/Empeeric/formage) \n[![Bitdeli Badge](https://d2weczhvl823v0.cloudfront.net/Empeeric/formage/trend.png \"Bitdeli Badge\")](https://bitdeli.com/free) \n[![githalytics.com alpha](https://cruel-carlota.pagodabox.com/b3ef5b297ff96ba6b5c573e376debd1d \"githalytics.com\")](http://githalytics.com/Empeeric/formage) \n\n=============\n\n[Bootstraped](http://twitter.github.com/bootstrap/) Admin GUI addon for [Mongoose](http://mongoosejs.com/), [JugglingDB](https://github.com/1602/jugglingdb), or just as a form generator.\nOriginally forked from [mongoose-admin](https://github.com/marccampbell/mongoose-admin).\n\nExample Usage\n-----\n[![npm install formage](https://nodei.co/npm/formage.png?downloads=true)](https://nodei.co/npm/formage/)\n<!-- [![NPM](https://nodei.co/npm-dl/formage.png)](https://nodei.co/npm/formage/) -->\n```js\nvar express = require('express'),\n    app = express();\n\nrequire('formage').init(app, express [, models, options]);\n```\n\nLook at the `\\example` directory.\n\nOptions\n-------\n```js\n// Site-wide options, and their default values\nrequire('formage').init(app, express, models, {\n    title: 'Admin',\n    root: '/admin',\n    default_section: 'main',\n    username: 'admin',\n    password: 'admin',\n    admin_users_gui: true\n);\n```\n\n#### Model options\n```js\nvar model = new mongoose.model('songs', schema);\n\n// external files specific to this model\nmodel.header_lines = [\n   '<script src=\"/js/songs.js\"></script>',\n   '<style href=\"/css/songs.css\"></style>'\n];\n\nmodel.formage = {\n    // one-document models\n    is_single: true,\n\n    // labels\n    label: 'My Songs',\n    singular: 'Song',\n\n    filters: ['artist', 'year'],\n\n    // additional actions on this model\n    actions: [\n       {\n          id: 'release',\n          label: 'Release',\n          func: function (user, ids, callback) {\n             console.log('You just released songs ' + ids);\n             callback();\n          }\n       }\n    ],\n\n    // list of fields to be displayed by formage for this model\n    list: ['number', 'title', 'album', 'artist', 'year'],\n    \n    // order documents, save order in this field (type: Number)\n    sortable: 'order',\n\n    // list of order fields\n    order_by: ['-year', 'album', 'number'],\n\n    // list of fields that must be populated\n    // (see http://mongoosejs.com/docs/api.html#document_Document-populate)\n    list_populate: ['album'],\n\n    // list of fields on which full-text search is available\n    search: ['title', 'album', 'artist']\n};\n```\n\n#### Field options\n```js\nvar schema = new mongoose.Schema({\n    artist: { type: String, label: 'Who made it?' },\n    // lang is a two letter ISO 639-1 code as recognized by google\n    location: { type: Schema.Types.GeoPoint, widget_options: {lang: 'nl'}}\n});\n```\n[ISO 639-1](http://en.wikipedia.org/wiki/List_of_ISO_639-1_codes)\n\n#### Extending\n``` js\nvar ReversedWidget = formage.widgets.TextWidget.extend({\n    render: function (res) {\n        this.value = this.value.split(\"\").reverse().join(\"\");\n        this.attrs.style = '-moz-transform: scale(-1, 1); -webkit-transform: scale(-1, 1); transform: scale(-1, 1);';\n        this._super(res);\n    }\n});\n\nvar ReversedField = formage.fields.StringField.extend({\n    init: function (options) {\n        options = options || {};\n        options.widget = ReversedWidget;\n        this._super(options);\n    },\n    clean_value: function (req, callback) {\n        this.value = this.value.split(\"\").reverse().join(\"\");\n        this._super(req, callback);\n    }\n});\n\nvar schema = new mongoose.Schema({\n    reversed: { type: String, formageField: ReversedField}\n});\n```\nShout-out to my man @jrowny\n\n---\n\nIf we want to have a complex underlining type we need to \"lie\" to mongoose\n\n```js\nvar TwoDWidget = formage.widgets.TextWidget.extend({\n    render: function (res) {\n        var value = this.value || {};\n        var lat = value.lat;\n        var lng = value.lng;\n        var name = this.name;\n        this.name = name + '_lat';\n        this.value = lat;\n        this._super(res);\n        this.name = name + '_lng';\n        this.value = lng;\n        this._super(res);\n    }\n});\n\n\nvar TwoDField = formage.fields.StringField.extend({\n    init: function (options) {\n        options = options || {};\n        options.widget = TwoDWidget;\n        this._super(options);\n    },\n    clean_value: function (req, callback) {\n        var lat = Number(req.body[this.name + '_lat']);\n        var lng = Number(req.body[this.name + '_lng']);\n        this.value = { lat: lat, lng: lng};\n        this._super(req, callback);\n    }\n});\nvar TwoD = function TwoD(path, options) {\n    TwoD.super_.call(this, path, options);\n};\nutil.inherits(TwoD, Schema.Types.Mixed);\nTypes.TwoD = Object;\nSchema.Types.TwoD = TwoD;\n\nvar schema = new mongoose.Schema({\n    two_d: { type: TwoD, formageField: TwoDField}\n});\n```\n\nLicense\n-------\nMIT\n\nSponsor\n--------\n<a id=\"stormlogo\" href=\"http://www.jetbrains.com/webstorm/\" alt=\"Smart IDE for web development with HTML Editor, CSS &amp; JavaScript support\" title=\"Smart IDE for web development with HTML Editor, CSS &amp; JavaScript support\">\n  ![](http://i.imgur.com/ynQ6c.png)\n</a>\n",
  "readmeFilename": "README.md",
  "_id": "formage@2.5.2",
  "_from": "formage@latest"
}
